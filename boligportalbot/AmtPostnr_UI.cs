using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading.Tasks;

namespace boligportalbot
{
    class AmtPostnr_UI
    {
        private string jsonString = "{'1':{'amtnavn':'Bornholms Amt','postnrarr':{'0':'3700;Rønne','1':'3720;Aakirkeby','2':'3730;Nexø','3':'3740;Svaneke','4':'3751;Østermarie','5':'3760;Gudhjem','6':'3770;Allinge','7':'3782;Klemensker','8':'3790;Hasle'}},'2':{'amtnavn':'Frederiksborg Amt','postnrarr':{'0':'2960;Rungsted Kyst','1':'2970;Hørsholm','2':'2980;Kokkedal','3':'2990;Nivå','4':'3000;Helsingør','5':'3050;Humlebæk','6':'3060;Espergærde','7':'3070;Snekkersten','8':'3080;Tikøb','9':'3100;Hornbæk','10':'3120;Dronningmølle','11':'3140;Ålsgårde','12':'3150;Hellebæk','13':'3200;Helsinge','14':'3210;Vejby','15':'3220;Tisvildeleje','16':'3230;Græsted','17':'3250;Gilleleje','18':'3300;Frederiksværk','19':'3310;Ølsted','20':'3320;Skævinge','21':'3330;Gørløse','22':'3360;Liseleje','23':'3370;Melby','24':'3390;Hundested','25':'3400;Hillerød','26':'3450;Allerød','27':'3460;Birkerød','28':'3480;Fredensborg','29':'3490;Kvistgård','30':'3520;Farum','31':'3540;Lynge','32':'3550;Slangerup','33':'3600;Frederikssund','34':'3630;Jægerspris','35':'3650;Ølstykke','36':'3660;Stenløse','37':'3670;Veksø Sjælland','38':'4050;Skibby'}},'3':{'amtnavn':'Fyns Amt','postnrarr':{'0':'5000;Odense C','1':'5200;Odense V','2':'5210;Odense NV','3':'5220;Odense SØ','4':'5230;Odense M','5':'5240;Odense NØ','6':'5250;Odense SV','7':'5260;Odense S','8':'5270;Odense N','9':'5290;Marslev','10':'5300;Kerteminde','11':'5320;Agedrup','12':'5330;Munkebo','13':'5350;Rynkeby','14':'5370;Mesinge','15':'5380;Dalby','16':'5390;Martofte','17':'5400;Bogense','18':'5450;Otterup','19':'5462;Morud','20':'5463;Harndrup','21':'5464;Brenderup Fyn','22':'5466;Asperup','23':'5471;Søndersø','24':'5474;Veflinge','25':'5485;Skamby','26':'5491;Blommenslyst','27':'5492;Vissenbjerg','28':'5500;Middelfart','29':'5540;Ullerslev','30':'5550;Langeskov','31':'5560;Aarup','32':'5580;Nørre Aaby','33':'5591;Gelsted','34':'5592;Ejby','35':'5600;Faaborg','36':'5610;Assens','37':'5620;Glamsbjerg','38':'5631;Ebberup','39':'5642;Millinge','40':'5672;Broby','41':'5683;Haarby','42':'5690;Tommerup','43':'5700;Svendborg','44':'5750;Ringe','45':'5762;Vester Skerninge','46':'5771;Stenstrup','47':'5772;Kværndrup','48':'5792;Årslev','49':'5800;Nyborg','50':'5853;Ørbæk','51':'5854;Gislev','52':'5856;Ryslinge','53':'5863;Ferritslev Fyn','54':'5871;Frørup','55':'5874;Hesselager','56':'5881;Skårup Fyn','57':'5882;Vejstrup','58':'5883;Oure','59':'5884;Gudme','60':'5892;Gudbjerg Sydfyn','61':'5900;Rudkøbing','62':'5932;Humble','63':'5935;Bagenkop','64':'5953;Tranekær','65':'5960;Marstal','66':'5970;Ærøskøbing','67':'5985;Søby Ærø'}},'4':{'amtnavn':'Københavns Amt','postnrarr':{'0':'1000;-1473 København K','1':'1500;-1799 København V','2':'1800;-1999 Frederiksberg C','3':'2000;Frederiksberg','4':'2100;København Ø','5':'2200;København N','6':'2300;København S','7':'2400;København NV','8':'2450;København SV','9':'2500;Valby','10':'2600;Glostrup','11':'2605;Brøndby','12':'2610;Rødovre','13':'2620;Albertslund','14':'2625;Vallensbæk','15':'2630;Taastrup','16':'2635;Ishøj','17':'2640;Hedehusene','18':'2650;Hvidovre','19':'2660;Brøndby Strand','20':'2665;Vallensbæk Strand','21':'2700;Brønshøj','22':'2720;Vanløse','23':'2730;Herlev','24':'2740;Skovlunde','25':'2750;Ballerup','26':'2760;Måløv','27':'2765;Smørum','28':'2770;Kastrup','29':'2791;Dragør','30':'2800;Kongens Lyngby','31':'2820;Gentofte','32':'2830;Virum','33':'2840;Holte','34':'2850;Nærum','35':'2860;Søborg','36':'2870;Dyssegård','37':'2880;Bagsværd','38':'2900;Hellerup','39':'2920;Charlottenlund','40':'2930;Klampenborg','41':'2942;Skodsborg','42':'2950;Vedbæk','43':'3500;Værløse'}},'5':{'amtnavn':'Nordjyllands Amt','postnrarr':{'0':'9000;Aalborg','1':'9200;Aalborg SV','2':'9210;Aalborg SØ','3':'9220;Aalborg Øst','4':'9230;Svenstrup J','5':'9240;Nibe','6':'9260;Gistrup','7':'9270;Klarup','8':'9280;Storvorde','9':'9293;Kongerslev','10':'9300;Sæby','11':'9310;Vodskov','12':'9320;Hjallerup','13':'9330;Dronninglund','14':'9340;Asaa','15':'9352;Dybvad','16':'9362;Gandrup','17':'9370;Hals','18':'9380;Vestbjerg','19':'9381;Sulsted','20':'9382;Tylstrup','21':'9400;Nørresundby','22':'9430;Vadum','23':'9440;Aabybro','24':'9460;Brovst','25':'9480;Løkken','26':'9490;Pandrup','27':'9492;Blokhus','28':'9493;Saltum','29':'9500;Hobro','30':'9510;Arden','31':'9520;Skørping','32':'9530;Støvring','33':'9541;Suldrup','34':'9560;Hadsund','35':'9574;Bælum','36':'9575;Terndrup','37':'9600;Aars','38':'9610;Nørager','39':'9640;Farsø','40':'9670;Løgstør','41':'9681;Ranum','42':'9690;Fjerritslev','43':'9700;Brønderslev','44':'9740;Jerslev J','45':'9750;Øster Vrå','46':'9760;Vrå','47':'9800;Hjørring','48':'9830;Tårs','49':'9850;Hirtshals','50':'9870;Sindal','51':'9881;Bindslev','52':'9900;Frederikshavn','53':'9940;Læsø','54':'9970;Strandby','55':'9981;Jerup','56':'9982;Ålbæk','57':'9990;Skagen'}},'6':{'amtnavn':'Ribe Amt','postnrarr':{'0':'6600;Vejen','1':'6621;Gesten','2':'6622;Bække','3':'6623;Vorbasse','4':'6650;Brørup','5':'6670;Holsted','6':'6682;Hovborg','7':'6683;Føvling','8':'6690;Gørding','9':'6700;Esbjerg','10':'6705;Esbjerg Ø','11':'6710;Esbjerg V','12':'6715;Esbjerg N','13':'6720;Fanø','14':'6731;Tjæreborg','15':'6740;Bramming','16':'6752;Glejbjerg','17':'6753;Agerbæk','18':'6760;Ribe','19':'6771;Gredstedbro','20':'6800;Varde','21':'6818;Årre','22':'6823;Ansager','23':'6830;Nørre Nebel','24':'6840;Oksbøl','25':'6851;Janderup Vestj','26':'6852;Billum','27':'6853;Vejers Strand','28':'6854;Henne','29':'6857;Blåvand','30':'6862;Tistrup','31':'6870;Ølgod','32':'7190;Billund','33':'7200;Grindsted','34':'7250;Hejnsvig','35':'7260;Sønder Omme'}},'7':{'amtnavn':'Ringkøbing Amt','postnrarr':{'0':'6880;Tarm','1':'6893;Hemmet','2':'6900;Skjern','3':'6920;Videbæk','4':'6933;Kibæk','5':'6940;Lem St','6':'6950;Ringkøbing','7':'6960;Hvide Sande','8':'6971;Spjald','9':'6973;Ørnhøj','10':'6980;Tim','11':'6990;Ulfborg','12':'7280;Sønder Felding','13':'7330;Brande','14':'7400;Herning','15':'7430;Ikast','16':'7441;Bording','17':'7442;Engesvang','18':'7451;Sunds','19':'7480;Vildbjerg','20':'7490;Aulum','21':'7500;Holstebro','22':'7540;Haderup','23':'7550;Sørvad','24':'7560;Hjerm','25':'7570;Vemb','26':'7600;Struer','27':'7620;Lemvig','28':'7650;Bøvlingbjerg','29':'7660;Bækmarksbro','30':'7673;Harboøre','31':'7680;Thyborøn','32':'7790;Thyholm','33':'7830;Vinderup','34':'7270;Stakroge'}},'8':{'amtnavn':'Roskilde Amt','postnrarr':{'0':'2670;Greve','1':'2680;Solrød Strand','2':'2690;Karlslunde','3':'4000;Roskilde','4':'4030;Tune','5':'4040;Jyllinge','6':'4060;Kirke Såby','7':'4070;Kirke Hyllinge','8':'4130;Viby Sjælland','9':'4140;Borup','10':'4173;Fjenneslev','11':'4320;Lejre','12':'4330;Hvalsø','13':'4600;Køge','14':'4621;Gadstrup','15':'4622;Havdrup','16':'4623;Lille Skensved','17':'4632;Bjæverskov','18':'4652;Hårlev','19':'4671;Strøby','20':'4681;Herfølge','21':'4682;Tureby'}},'9':{'amtnavn':'Storstrøms Amt','postnrarr':{'0':'4160;Herlufmagle','1':'4171;Glumsø','2':'4640;Fakse','3':'4653;Karise','4':'4654;Fakse Ladeplads','5':'4660;Store Heddinge','6':'4672;Klippinge','7':'4673;Rødvig Stevns','8':'4683;Rønnede','9':'4684;Holmegaard','10':'4700;Næstved','11':'4720;Præstø','12':'4733;Tappernøje','13':'4735;Mern','14':'4736;Karrebæksminde','15':'4750;Lundby','16':'4760;Vordingborg','17':'4771;Kalvehave','18':'4772;Langebæk','19':'4773;Stensved','20':'4780;Stege','21':'4791;Borre','22':'4792;Askeby','23':'4793;Bogø By','24':'4800;Nykøbing F','25':'4840;Nørre Alslev','26':'4850;Stubbekøbing','27':'4862;Guldborg','28':'4863;Eskilstrup','29':'4871;Horbelev','30':'4872;Idestrup','31':'4873;Væggerløse','32':'4874;Gedser','33':'4880;Nysted','34':'4891;Toreby L','35':'4892;Kettinge','36':'4894;Øster Ulslev','37':'4895;Errindlev','38':'4900;Nakskov','39':'4912;Harpelunde','40':'4913;Horslunde','41':'4920;Søllested','42':'4930;Maribo','43':'4941;Bandholm','44':'4943;Torrig L','45':'4944;Fejø','46':'4951;Nørreballe','47':'4952;Stokkemarke','48':'4953;Vesterborg','49':'4960;Holeby','50':'4970;Rødby','51':'4983;Dannemare','52':'4990;Sakskøbing'}},'10':{'amtnavn':'Sønderjyllands Amt','postnrarr':{'0':'6070;Christiansfeld','1':'6093;Sjølund','2':'6094;Hejls','3':'6100;Haderslev','4':'6200;Aabenraa','5':'6230;Rødekro','6':'6240;Løgumkloster','7':'6261;Bredebro','8':'6270;Tønder','9':'6280;Højer','10':'6300;Gråsten','11':'6310;Broager','12':'6320;Egernsund','13':'6330;Padborg','14':'6340;Kruså','15':'6360;Tinglev','16':'6372;Bylderup-Bov','17':'6392;Bolderslev','18':'6400;Sønderborg','19':'6430;Nordborg','20':'6440;Augustenborg','21':'6470;Sydals','22':'6500;Vojens','23':'6510;Gram','24':'6520;Toftlund','25':'6534;Agerskov','26':'6535;Branderup J','27':'6541;Bevtoft','28':'6560;Sommersted','29':'6630;Rødding','30':'6660;Lintrup','31':'6780;Skærbæk','32':'6792;Rømø'}},'11':{'amtnavn':'Vejle Amt','postnrarr':{'0':'6000;Kolding','1':'6040;Egtved','2':'6051;Almind','3':'6052;Viuf','4':'6064;Jordrup','5':'6091;Bjert','6':'6092;Sønder Stenderup','7':'6580;Vamdrup','8':'6640;Lunderskov','9':'7000;Fredericia','10':'7080;Børkop','11':'7100;Vejle','12':'7120;Vejle Øst','13':'7130;Juelsminde','14':'7140;Stouby','15':'7150;Barrit','16':'7160;Tørring','17':'7171;Uldum','18':'7173;Vonge','19':'7182;Bredsten','20':'7183;Randbøl','21':'7184;Vandel','22':'7300;Jelling','23':'7321;Gadbjerg','24':'7323;Give','25':'7361;Ejstrupholm','26':'7362;Hampen','27':'8700;Horsens','28':'8721;Daugård','29':'8722;Hedensted','30':'8723;Løsning','31':'8732;Hovedgård','32':'8740;Brædstrup','33':'8751;Gedved','34':'8752;Østbirk','35':'8762;Flemming','36':'8763;Rask Mølle','37':'8765;Klovborg','38':'8766;Nørre Snede','39':'8781;Stenderup','40':'8783;Hornsyld','41':'6093;Sjølund'}},'12':{'amtnavn':'Vestsjællands Amt','postnrarr':{'0':'4100;Ringsted','1':'4174;Jystrup Midtsj','2':'4180;Sorø','3':'4190;Munke Bjergby','4':'4200;Slagelse','5':'4220;Korsør','6':'4230;Skælskør','7':'4241;Vemmelev','8':'4242;Boeslunde','9':'4243;Rude','10':'4250;Fuglebjerg','11':'4261;Dalmose','12':'4262;Sandved','13':'4270;Høng','14':'4281;Gørlev','15':'4291;Ruds Vedby','16':'4293;Dianalund','17':'4295;Stenlille','18':'4296;Nyrup','19':'4300;Holbæk','20':'4340;Tølløse','21':'4350;Ugerløse','22':'4360;Kirke Eskilstrup','23':'4370;Store Merløse','24':'4390;Vipperød','25':'4400;Kalundborg','26':'4420;Regstrup','27':'4440;Mørkøv','28':'4450;Jyderup','29':'4460;Snertinge','30':'4470;Svebølle','31':'4480;Store Fuglede','32':'4490;Jerslev Sjælland','33':'4500;Nykøbing Sj','34':'4520;Svinninge','35':'4532;Gislinge','36':'4534;Hørve','37':'4540;Fårevejle','38':'4550;Asnæs','39':'4560;Vig','40':'4571;Grevinge','41':'4572;Nørre Asmindrup','42':'4573;Højby','43':'4581;Rørvig','44':'4583;Sjællands Odde','45':'4591;Føllenslev','46':'4592;Sejerø','47':'4593;Eskebjerg','48':'4690;Haslev'}},'13':{'amtnavn':'Viborg Amt','postnrarr':{'0':'6855;Outrup','1':'7470;Karup J','2':'7700;Thisted','3':'7730;Hanstholm','4':'7741;Frøstrup','5':'7742;Vesløs','6':'7752;Snedsted','7':'7755;Bedsted Thy','8':'7760;Hurup Thy','9':'7770;Vestervig','10':'7800;Skive','11':'7840;Højslev','12':'7850;Stoholm Jyll','13':'7860;Spøttrup','14':'7870;Roslev','15':'7884;Fur','16':'7900;Nykøbing M','17':'7950;Erslev','18':'7960;Karby','19':'7970;Redsted M','20':'7980;Vils','21':'7990;Øster Assels','22':'8620;Kjellerup','23':'8643;Ans By','24':'8800;Viborg','25':'8830;Tjele','26':'8831;Løgstrup','27':'8832;Skals','28':'8840;Rødkærsbro','29':'8850;Bjerringbro','30':'8860;Ulstrup','31':'8881;Thorsø','32':'9620;Aalestrup','33':'9631;Gedsted','34':'9632;Møldrup'}},'14':{'amtnavn':'Århus Amt','postnrarr':{'0':'8000;Århus C','1':'8200;Århus N','2':'8210;Århus V','3':'8220;Brabrand','4':'8230;Åbyhøj','5':'8240;Risskov','6':'8245;Risskov Ø','7':'8250;Egå','8':'8260;Viby J','9':'8270;Højbjerg','10':'8300;Odder','11':'8305;Samsø','12':'8310;Tranbjerg J','13':'8320;Mårslet','14':'8330;Beder','15':'8340;Malling','16':'8350;Hundslund','17':'8355;Solbjerg','18':'8361;Hasselager','19':'8362;Hørning','20':'8370;Hadsten','21':'8380;Trige','22':'8381;Tilst','23':'8382;Hinnerup','24':'8400;Ebeltoft','25':'8410;Rønde','26':'8420;Knebel','27':'8444;Balle','28':'8450;Hammel','29':'8462;Harlev J','30':'8464;Galten','31':'8471;Sabro','32':'8472;Sporup','33':'8500;Grenaa','34':'8520;Lystrup','35':'8530;Hjortshøj','36':'8541;Skødstrup','37':'8543;Hornslet','38':'8544;Mørke','39':'8550;Ryomgård','40':'8560;Kolind','41':'8570;Trustrup','42':'8581;Nimtofte','43':'8585;Glesborg','44':'8586;Ørum Djurs','45':'8592;Anholt','46':'8600;Silkeborg','47':'8632;Lemming','48':'8641;Sorring','49':'8653;Them','50':'8654;Bryrup','51':'8660;Skanderborg','52':'8670;Låsby','53':'8680;Ry','54':'8870;Langå','55':'8882;Fårvang','56':'8883;Gjern','57':'8900;Randers','58':'8920;Randers NV','59':'8930;Randers NØ','60':'8940;Randers SV','61':'8960;Randers SØ','62':'8950;Ørsted','63':'8961;Allingåbro','64':'8963;Auning','65':'8970;Havndal','66':'8981;Spentrup','67':'8983;Gjerlev J','68':'8990;Fårup','69':'9550;Mariager'}},'15':{'amtnavn':'Malmø','postnrarr':{'0':'Hele;Malmø'}}}";
        public List<CountryRegionAmt> regionDataList = new List<CountryRegionAmt>();

        public AmtPostnr_UI()
        {
            JObject jUIData = JObject.Parse(jsonString);

            int counter = 0;
            foreach (var region in jUIData) 
            {   
                counter++;

                //list for holding objects containing a post-number and its district name
                List<CountryRegionPostnr> postnrList = new List<CountryRegionPostnr>();


                for(int i = 0; i <= jUIData[counter.ToString()]["postnrarr"].Count(); i++)
                {
                    var input = jUIData[counter.ToString()]["postnrarr"][i.ToString()];

                    if (input != null)
                    {
                        string name = Regex.Match(input.ToString(), @"[a-zA-Z]+").Value;
                        string postnr = "";
                        if (input.ToString() != "")
                        {
                            postnr = Regex.Match(input.ToString(), @"[0-9]{4}").Value;
                        }
                        //object containing post-number and its district name
                        CountryRegionPostnr regionPostnr = new CountryRegionPostnr(name, postnr);
                        postnrList.Add(regionPostnr);

                    }
                    
                }
                //object containing a regain name and a list of its post districts
                CountryRegionAmt regionAmt = new CountryRegionAmt(jUIData[counter.ToString()]["amtnavn"].ToString(), postnrList);
                regionDataList.Add(regionAmt);
            };
        }
    }
}
